
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript strtr function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript strtr function A JavaScript equivalent of PHP&#8217;s strtr strings/strtr.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/strtr/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">php</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">.js</a></h1>
  
    <h2>A resource of php functions in JavaScript</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript strtr function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s strtr</p>

<figure class='code'><figcaption><span>strings/strtr.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/strings/strtr.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">strtr</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +      input by: uestla</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +      input by: Alan C</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +      input by: Taras Bogach</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +      input by: jpfle</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// -   depends on: krsort</span>
</span><span class='line'>  <span class="c1">// -   depends on: ini_set</span>
</span><span class='line'>  <span class="c1">// *     example 1: $trans = {&#39;hello&#39; : &#39;hi&#39;, &#39;hi&#39; : &#39;hello&#39;};</span>
</span><span class='line'>  <span class="c1">// *     example 1: strtr(&#39;hi all, I said hello&#39;, $trans)</span>
</span><span class='line'>  <span class="c1">// *     returns 1: &#39;hello all, I said hi&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 2: strtr(&#39;äaabaåccasdeöoo&#39;, &#39;äåö&#39;,&#39;aao&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: &#39;aaabaaccasdeooo&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 3: strtr(&#39;ääääääää&#39;, &#39;ä&#39;, &#39;a&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 3: &#39;aaaaaaaa&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 4: strtr(&#39;http&#39;, &#39;pthxyz&#39;,&#39;xyzpth&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 4: &#39;zyyx&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 5: strtr(&#39;zyyx&#39;, &#39;pthxyz&#39;,&#39;xyzpth&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 5: &#39;http&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 6: strtr(&#39;aa&#39;, {&#39;a&#39;:1,&#39;aa&#39;:2});</span>
</span><span class='line'>  <span class="c1">// *     returns 6: &#39;2&#39;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">fr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">lenStr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">lenFrom</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">tmpStrictForIn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">fromTypeStr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">toTypeStr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">istr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">tmpFrom</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">tmpTo</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">match</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Received replace_pairs?</span>
</span><span class='line'>  <span class="c1">// Convert to normal from-&gt;to chars</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">from</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">tmpStrictForIn</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ini_set</span><span class="p">(</span><span class="s1">&#39;phpjs.strictForIn&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// Not thread-safe; temporarily set to true</span>
</span><span class='line'>    <span class="nx">from</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">krsort</span><span class="p">(</span><span class="nx">from</span><span class="p">);</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">ini_set</span><span class="p">(</span><span class="s1">&#39;phpjs.strictForIn&#39;</span><span class="p">,</span> <span class="nx">tmpStrictForIn</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">fr</span> <span class="k">in</span> <span class="nx">from</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">fr</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">tmpFrom</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">fr</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">tmpTo</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">from</span><span class="p">[</span><span class="nx">fr</span><span class="p">]);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">from</span> <span class="o">=</span> <span class="nx">tmpFrom</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">to</span> <span class="o">=</span> <span class="nx">tmpTo</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Walk through subject and replace chars when needed</span>
</span><span class='line'>  <span class="nx">lenStr</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">lenFrom</span> <span class="o">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">fromTypeStr</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">from</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">toTypeStr</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">to</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">lenStr</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">match</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">fromTypeStr</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">istr</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">lenFrom</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">istr</span> <span class="o">==</span> <span class="nx">from</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">match</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">lenFrom</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">from</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">length</span><span class="p">)</span> <span class="o">==</span> <span class="nx">from</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">match</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>          <span class="c1">// Fast forward</span>
</span><span class='line'>          <span class="nx">i</span> <span class="o">=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="nx">from</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">length</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">ret</span> <span class="o">+=</span> <span class="nx">toTypeStr</span> <span class="o">?</span> <span class="nx">to</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span> <span class="o">:</span> <span class="nx">to</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">ret</span> <span class="o">+=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/strings/strtr.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/strings/strtr.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">$trans</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hello&#39;</span> <span class="o">:</span> <span class="s1">&#39;hi&#39;</span><span class="p">,</span> <span class="s1">&#39;hi&#39;</span> <span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">};</span>
</span><span class='line'><span class="nx">strtr</span><span class="p">(</span><span class="s1">&#39;hi all, I said hello&#39;</span><span class="p">,</span> <span class="nx">$trans</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;hello all, I said hi&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">strtr</span><span class="p">(</span><span class="s1">&#39;äaabaåccasdeöoo&#39;</span><span class="p">,</span> <span class="s1">&#39;äåö&#39;</span><span class="p">,</span><span class="s1">&#39;aao&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;aaabaaccasdeooo&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 3</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">strtr</span><span class="p">(</span><span class="s1">&#39;ääääääää&#39;</span><span class="p">,</span> <span class="s1">&#39;ä&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;aaaaaaaa&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the strings extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/addcslashes">addcslashes</a></li>
<li><a href="/functions/addslashes">addslashes</a></li>
<li><a href="/functions/bin2hex">bin2hex</a></li>
<li><a href="/functions/chop">chop</a></li>
<li><a href="/functions/chr">chr</a></li>
<li><a href="/functions/chunk_split">chunk_split</a></li>
<li><a href="/functions/convert_cyr_string">convert_cyr_string</a></li>
<li><a href="/functions/convert_uuencode">convert_uuencode</a></li>
<li><a href="/functions/count_chars">count_chars</a></li>
<li><a href="/functions/crc32">crc32</a></li>
<li><a href="/functions/echo">echo</a></li>
<li><a href="/functions/explode">explode</a></li>
<li><a href="/functions/get_html_translation_table">get_html_translation_table</a></li>
<li><a href="/functions/html_entity_decode">html_entity_decode</a></li>
<li><a href="/functions/htmlentities">htmlentities</a></li>
<li><a href="/functions/htmlspecialchars">htmlspecialchars</a></li>
<li><a href="/functions/htmlspecialchars_decode">htmlspecialchars_decode</a></li>
<li><a href="/functions/implode">implode</a></li>
<li><a href="/functions/join">join</a></li>
<li><a href="/functions/lcfirst">lcfirst</a></li>
<li><a href="/functions/levenshtein">levenshtein</a></li>
<li><a href="/functions/localeconv">localeconv</a></li>
<li><a href="/functions/ltrim">ltrim</a></li>
<li><a href="/functions/md5">md5</a></li>
<li><a href="/functions/md5_file">md5_file</a></li>
<li><a href="/functions/metaphone">metaphone</a></li>
<li><a href="/functions/money_format">money_format</a></li>
<li><a href="/functions/nl2br">nl2br</a></li>
<li><a href="/functions/nl_langinfo">nl_langinfo</a></li>
<li><a href="/functions/number_format">number_format</a></li>
<li><a href="/functions/ord">ord</a></li>
<li><a href="/functions/parse_str">parse_str</a></li>
<li><a href="/functions/printf">printf</a></li>
<li><a href="/functions/quoted_printable_decode">quoted_printable_decode</a></li>
<li><a href="/functions/quoted_printable_encode">quoted_printable_encode</a></li>
<li><a href="/functions/quotemeta">quotemeta</a></li>
<li><a href="/functions/rtrim">rtrim</a></li>
<li><a href="/functions/setlocale">setlocale</a></li>
<li><a href="/functions/sha1">sha1</a></li>
<li><a href="/functions/sha1_file">sha1_file</a></li>
<li><a href="/functions/similar_text">similar_text</a></li>
<li><a href="/functions/soundex">soundex</a></li>
<li><a href="/functions/split">split</a></li>
<li><a href="/functions/sprintf">sprintf</a></li>
<li><a href="/functions/sscanf">sscanf</a></li>
<li><a href="/functions/str_getcsv">str_getcsv</a></li>
<li><a href="/functions/str_ireplace">str_ireplace</a></li>
<li><a href="/functions/str_pad">str_pad</a></li>
<li><a href="/functions/str_repeat">str_repeat</a></li>
<li><a href="/functions/str_replace">str_replace</a></li>
<li><a href="/functions/str_rot13">str_rot13</a></li>
<li><a href="/functions/str_shuffle">str_shuffle</a></li>
<li><a href="/functions/str_split">str_split</a></li>
<li><a href="/functions/str_word_count">str_word_count</a></li>
<li><a href="/functions/strcasecmp">strcasecmp</a></li>
<li><a href="/functions/strchr">strchr</a></li>
<li><a href="/functions/strcmp">strcmp</a></li>
<li><a href="/functions/strcoll">strcoll</a></li>
<li><a href="/functions/strcspn">strcspn</a></li>
<li><a href="/functions/strip_tags">strip_tags</a></li>
<li><a href="/functions/stripos">stripos</a></li>
<li><a href="/functions/stripslashes">stripslashes</a></li>
<li><a href="/functions/stristr">stristr</a></li>
<li><a href="/functions/strlen">strlen</a></li>
<li><a href="/functions/strnatcasecmp">strnatcasecmp</a></li>
<li><a href="/functions/strnatcmp">strnatcmp</a></li>
<li><a href="/functions/strncasecmp">strncasecmp</a></li>
<li><a href="/functions/strncmp">strncmp</a></li>
<li><a href="/functions/strpbrk">strpbrk</a></li>
<li><a href="/functions/strpos">strpos</a></li>
<li><a href="/functions/strrchr">strrchr</a></li>
<li><a href="/functions/strrev">strrev</a></li>
<li><a href="/functions/strripos">strripos</a></li>
<li><a href="/functions/strrpos">strrpos</a></li>
<li><a href="/functions/strspn">strspn</a></li>
<li><a href="/functions/strstr">strstr</a></li>
<li><a href="/functions/strtok">strtok</a></li>
<li><a href="/functions/strtolower">strtolower</a></li>
<li><a href="/functions/strtoupper">strtoupper</a></li>
<li><a href="/functions/strtr">strtr</a></li>
<li><a href="/functions/substr">substr</a></li>
<li><a href="/functions/substr_compare">substr_compare</a></li>
<li><a href="/functions/substr_count">substr_count</a></li>
<li><a href="/functions/substr_replace">substr_replace</a></li>
<li><a href="/functions/trim">trim</a></li>
<li><a href="/functions/ucfirst">ucfirst</a></li>
<li><a href="/functions/ucwords">ucwords</a></li>
<li><a href="/functions/vprintf">vprintf</a></li>
<li><a href="/functions/vsprintf">vsprintf</a></li>
<li><a href="/functions/wordwrap">wordwrap</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://an3m1.com/" rel="nofollow">????? ????????</a>
</strong>
on 2012-04-10 09:52:43 <br />
Great job here. I really enjoyed what you had to say. Keep going because you definitely bring a new voice to this subject. Not many people would say what you’ve said and still make it interesting 
<hr />


<strong>
Theriault
</strong>
on 2011-05-13 10:28:09 <br />
@Breton: I can&#8217;t verify it because I don&#8217;t have IE9, but my guess on a fix would be changing line 55 from&#8230;
<pre><code>
tmpFrom.push(fr);
</code></pre>
to&#8230;
<pre><code>
tmpFrom.push('' + fr);
</code></pre>
Let us know if this fixes it.
<hr />


<strong>
Breton
</strong>
on 2011-05-10 11:24:02 <br />
Hi, there is a new bug in IE9 with the function strtr !
This line doesn&#8217;t work : &quot;if (str.substr(i, from[j].length) == from[j]) {&quot;
Have you got any idea ?

You can see the error here : http://imageshack.us/photo/my-images/805/bugc.jpg/

Fucking IE ! ^^&#8217;
<hr />


<strong>
<a href="http://preseka.mygamesonline.com" rel="nofollow">odin</a>
</strong>
on 2011-03-27 23:45:26 <br />
Hey i maid even bether one look down:
it contanis 0 loops for norma use and 1 loop for advanced use
<pre><code>
function strtr(s,f,t)
{
core=function(str,from,to){//core function
str=str.split(from);//breake parts that we wan't to
str=str.join(to);//glue with new parts that we wan't to
return str;
};//end of core function
if(!t){//check if we use advanced option
r=s;
for(e in f){//loop
r=core(r,e,f[e]);//call our core function
}
return r;// end code and retun value
}
//normal use
return core(s,f,t); // just call normal core function and return
}
/*
example:
normal use:
   strtr(&quot;This string is string.&quot;,&quot;string&quot;,&quot;text&quot;);
=This text is text.

advanced use
  strtr(&quot;This string is texty.&quot;,{'texty':'text','string':'text'});
=This text is string.

advanced use WARNING!
  strtr(&quot;This string is text.&quot;,{'text':'string','string':'text'});
=This text is text.
this is not switcher it's replacer!!
*/
</code></pre>
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2010-12-02 09:55:47 <br />
@Robert: Please try your function against the existing examples to make sure it works. Thanks&#8230;
<hr />


<strong>
Robert
</strong>
on 2010-12-01 20:41:28 <br />
What about something more like this? I saw an example of using this for urlencode and thought it would work well for strtr.

<pre><code>
function strtr(base, old, n){
  return base.replace(/[A-Za-z0-9_.-]/g, function (s) {
    for (var k = 0; k &lt; old.length; k++) {
      if (s == old.charAt(k) &amp;&amp; k &lt; n.length) {
        return n.charAt(k);
      }
    }
  });
}
</code></pre>
<hr />


<strong>
jpfle
</strong>
on 2009-12-11 16:20:54 <br />
@Brett: it works very great now. Thanks again! :-)
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-12-11 12:40:42 <br />
@jpfle: Sorry, I had also needed to update krsort() recently too. Please use the version at http://github.com/kvz/phpjs/blob/master/functions/array/krsort.js
<hr />


<strong>
jpfle
</strong>
on 2009-12-11 04:25:40 <br />
@Brett: Thanks for your answer. However, it no longer works neither on Firefox nor IE. Here&#8217;s what I packaged on phpjs.org:

- `i18n_loc_get_default()`
- `i18n_loc_set_default()`
- `ini_set()`
- `krsort()`
- `strtr()`

and then I replaced `strtr()` by github&#8217;s version. With the same code of my previous comment, &quot;ça et là&quot; is output on Firefox and IE without any translation, namely &quot;ça et là&quot;. Firefox&#8217;s Error Console is empty.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-12-10 05:42:56 <br />
@jpfle: Should now be fixed: http://github.com/kvz/phpjs/blob/master/functions/strings/strtr.js . Please note that I&#8217;ve needed to add a new dependency: ini_set(). Also, this will not work with IE5 as is, since I also added for-in filtering for hasOwnProperty (you can remove the check (or alter it to at least make sure from[fr] is a string) if you need to support IE5, but you risk interfering with other libraries that override the Object prototype; otherwise it&#8217;s best to leave it as is).
<hr />


<strong>
jpfle
</strong>
on 2009-12-09 22:30:16 <br />
Hi. Thanks for this useful function. I use it in a script generating a table of contents for XHTML pages. Each title in a page is transliterated (&#8216;à&#8217; =&gt; &#8216;a&#8217;, &#8216;é&#8217; =&gt; &#8216;e&#8217;, &#8216;î&#8217; =&gt; &#8216;i&#8217;, etc.) with strstr() to create an anchor. However, there&#8217;s a bug with Internet Explorer 6. Take this code:

<pre><code>
var texte = 'çà et là';
texte = strtr(texte, {'ç': 'c', 'à': 'a', ' ': '-'});
alert(texte);
</code></pre>

Firefox (3.5.5) outputs &quot;ca-et-la&quot;, as expected, but IE6 outputs &quot;ca-undefinedundefined-undefineda&quot;.
<hr />


<strong>
kwemart
</strong>
on 2009-11-20 12:10:58 <br />
@kevin van

yes I know my function is just for regulars expressions
it wouldn&#8217;t work with ayyay but I&#8217;ll update it later 

cheer .
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-11-07 18:50:03 <br />
@ kwemart: Thanks for sharing. However with your code, only the 3rd example produces the expected output. The other ones fail :(
<hr />


<strong>
kwemart
</strong>
on 2009-10-31 12:25:41 <br />
hi this function is very nice but I propose an other solution , it only work with a regular expression.

<pre><code>
function strtr(str,from,to)
                  {
                  var patt=str.split(from),str2=&quot;&quot;;
                  var l=patt.length,i=1;
                  while(i&lt;=l-1){str=str.replace(from,to);i+=1;}
                  return str;
                  }
</code></pre>

<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-07-03 13:52:01 <br />
@ Roland Hentschel: Thanks for sharing

@ Frank Forte &amp; T.Wild: Cool, let&#8217;s continue at the page suggested by T.Wild
<hr />


<strong>
T.Wild
</strong>
on 2009-07-02 22:59:55 <br />
@Frank Forte
You may want to post your problem over at
http://phpjs.org/functions/htmlspecialchars
rather than here on strtr
<hr />


<strong>
<a href="http://thenetgen.com/" rel="nofollow">Frank Forte</a>
</strong>
on 2009-07-02 15:25:46 <br />
I found the following error with the htmlspecialchars() function when doing the following:

<pre><code>
el.innerHTML = htmlspecialchars('test 1 &lt; 2 ');
</code></pre>

The output (inserted into the element) was
&#8216;test 1 &amp;lt; 2&#8217;

The htmlspecialchars function does this:
step 1  &lt; turns to &amp;lt;
step 2 &amp;lt; turns to &amp;amp;lt;

This is because the &amp; symbol would be converted AFTER the &lt; character was converted (or any other character for that matter)

I fixed the problem by moving the line:
<pre><code>
entities['38'] = '&amp;amp;';
</code></pre>
near the top of the html_translation_table() function,
right above the the following line:

<pre><code>
 if (useTable === 'HTML_ENTITIES') {
</code></pre>

This would make sure that the &amp; characters is converted first, then the rest of the charachters would be converted.

-Frank Forte
<hr />


<strong>
Roland Hentschel
</strong>
on 2009-06-30 08:32:41 <br />
An implementation for this script:

http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_chr/

<pre><code>
function charmap(font) {
    document.write(&quot;&lt;style&gt;\n*{font-family:&quot;
    +font+&quot;; font-size:24pt;}\n&lt;/style&gt;\n&quot;);
    document.write(&quot;&lt;table&gt;\n&quot;);
    for (x=0;x&lt;16;x++) {
        document.write(&quot;&lt;tr&gt;\n&quot;);
        for (y=0;y&lt;16;y++) {
            document.write(&quot;&lt;td&gt;&quot;+chr(16*x+y)+&quot;&lt;/td&gt;\n&quot;);
        }
        document.write(&quot;&lt;/tr&gt;\n&quot;);
    }
    document.write(&quot;&lt;/table&gt;\n&quot;);
}
</code></pre>
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-05-30 05:37:10 <br />
Kevin fixed it in SVN&#8230;Thanks for the reports!
<hr />


<strong>
<a href="www.carrot.org" rel="nofollow">Jason Wang</a>
</strong>
on 2009-05-29 09:36:38 <br />
There is a bug for the function. For example, when using PHP strtr(&quot;abc&quot;,&quot;abc&quot;,&quot;cba&quot;) the result is &quot;cba&quot;. But using this function, the result is &quot;aba&quot;. Because the first character &quot;a&quot; is replaced by &quot;c&quot;, however it became &quot;a&quot; when trying to replace all character &quot;c&quot; with &quot;a&quot;. Maybe here we can use some array to store the status as well the chars in order to solve the problem. 
Good Luck
<hr />


<strong>
uestla
</strong>
on 2009-03-10 13:35:01 <br />
In PHP the function strtr() called with three arguments (string, from, to) replaces the characters in the whole string. Shouldn&#8217;t be the global modificator &#8216;g&#8217; in your script?

Thanks for your answer, uestla (sorry for my english).
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/strtr/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/strtr/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/strtr/index.html';
        var disqus_url = 'http://phpjs.org/functions/strtr/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
