
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript stripslashes function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript stripslashes function A JavaScript equivalent of PHP&#8217;s stripslashes strings/stripslashes.js raw on github 1
2
3
4
5
6
7
8
9
10
11 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/stripslashes/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">php</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">.js</a></h1>
  
    <h2>A resource of php functions in JavaScript</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript stripslashes function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s stripslashes</p>

<figure class='code'><figcaption><span>strings/stripslashes.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/strings/stripslashes.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">stripslashes</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Ates Goral (http://magnetiq.com)</span>
</span><span class='line'>  <span class="c1">// +      fixed by: Mick@el</span>
</span><span class='line'>  <span class="c1">// +   improved by: marrtins</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Onno Marsman</span>
</span><span class='line'>  <span class="c1">// +   improved by: rezna</span>
</span><span class='line'>  <span class="c1">// +   input by: Rick Waldron</span>
</span><span class='line'>  <span class="c1">// +   reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +   input by: Brant Messenger (http://www.brantmessenger.com/)</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// *     example 1: stripslashes(&#39;Kevin\&#39;s code&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: &quot;Kevin&#39;s code&quot;</span>
</span><span class='line'>  <span class="c1">// *     example 2: stripslashes(&#39;Kevin\\\&#39;s code&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: &quot;Kevin\&#39;s code&quot;</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="nx">str</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\\(.?)/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">n1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">switch</span> <span class="p">(</span><span class="nx">n1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;\\&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="s1">&#39;\\&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;0&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="s1">&#39;\u0000&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">default</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">n1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/strings/stripslashes.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/strings/stripslashes.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">stripslashes</span><span class="p">(</span><span class="s1">&#39;Kevin\&#39;s code&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s2">&quot;Kevin&#39;s code&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">stripslashes</span><span class="p">(</span><span class="s1">&#39;Kevin\\\&#39;s code&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s2">&quot;Kevin\&#39;s code&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the strings extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/addcslashes">addcslashes</a></li>
<li><a href="/functions/addslashes">addslashes</a></li>
<li><a href="/functions/bin2hex">bin2hex</a></li>
<li><a href="/functions/chop">chop</a></li>
<li><a href="/functions/chr">chr</a></li>
<li><a href="/functions/chunk_split">chunk_split</a></li>
<li><a href="/functions/convert_cyr_string">convert_cyr_string</a></li>
<li><a href="/functions/convert_uuencode">convert_uuencode</a></li>
<li><a href="/functions/count_chars">count_chars</a></li>
<li><a href="/functions/crc32">crc32</a></li>
<li><a href="/functions/echo">echo</a></li>
<li><a href="/functions/explode">explode</a></li>
<li><a href="/functions/get_html_translation_table">get_html_translation_table</a></li>
<li><a href="/functions/html_entity_decode">html_entity_decode</a></li>
<li><a href="/functions/htmlentities">htmlentities</a></li>
<li><a href="/functions/htmlspecialchars">htmlspecialchars</a></li>
<li><a href="/functions/htmlspecialchars_decode">htmlspecialchars_decode</a></li>
<li><a href="/functions/implode">implode</a></li>
<li><a href="/functions/join">join</a></li>
<li><a href="/functions/lcfirst">lcfirst</a></li>
<li><a href="/functions/levenshtein">levenshtein</a></li>
<li><a href="/functions/localeconv">localeconv</a></li>
<li><a href="/functions/ltrim">ltrim</a></li>
<li><a href="/functions/md5">md5</a></li>
<li><a href="/functions/md5_file">md5_file</a></li>
<li><a href="/functions/metaphone">metaphone</a></li>
<li><a href="/functions/money_format">money_format</a></li>
<li><a href="/functions/nl2br">nl2br</a></li>
<li><a href="/functions/nl_langinfo">nl_langinfo</a></li>
<li><a href="/functions/number_format">number_format</a></li>
<li><a href="/functions/ord">ord</a></li>
<li><a href="/functions/parse_str">parse_str</a></li>
<li><a href="/functions/printf">printf</a></li>
<li><a href="/functions/quoted_printable_decode">quoted_printable_decode</a></li>
<li><a href="/functions/quoted_printable_encode">quoted_printable_encode</a></li>
<li><a href="/functions/quotemeta">quotemeta</a></li>
<li><a href="/functions/rtrim">rtrim</a></li>
<li><a href="/functions/setlocale">setlocale</a></li>
<li><a href="/functions/sha1">sha1</a></li>
<li><a href="/functions/sha1_file">sha1_file</a></li>
<li><a href="/functions/similar_text">similar_text</a></li>
<li><a href="/functions/soundex">soundex</a></li>
<li><a href="/functions/split">split</a></li>
<li><a href="/functions/sprintf">sprintf</a></li>
<li><a href="/functions/sscanf">sscanf</a></li>
<li><a href="/functions/str_getcsv">str_getcsv</a></li>
<li><a href="/functions/str_ireplace">str_ireplace</a></li>
<li><a href="/functions/str_pad">str_pad</a></li>
<li><a href="/functions/str_repeat">str_repeat</a></li>
<li><a href="/functions/str_replace">str_replace</a></li>
<li><a href="/functions/str_rot13">str_rot13</a></li>
<li><a href="/functions/str_shuffle">str_shuffle</a></li>
<li><a href="/functions/str_split">str_split</a></li>
<li><a href="/functions/str_word_count">str_word_count</a></li>
<li><a href="/functions/strcasecmp">strcasecmp</a></li>
<li><a href="/functions/strchr">strchr</a></li>
<li><a href="/functions/strcmp">strcmp</a></li>
<li><a href="/functions/strcoll">strcoll</a></li>
<li><a href="/functions/strcspn">strcspn</a></li>
<li><a href="/functions/strip_tags">strip_tags</a></li>
<li><a href="/functions/stripos">stripos</a></li>
<li><a href="/functions/stripslashes">stripslashes</a></li>
<li><a href="/functions/stristr">stristr</a></li>
<li><a href="/functions/strlen">strlen</a></li>
<li><a href="/functions/strnatcasecmp">strnatcasecmp</a></li>
<li><a href="/functions/strnatcmp">strnatcmp</a></li>
<li><a href="/functions/strncasecmp">strncasecmp</a></li>
<li><a href="/functions/strncmp">strncmp</a></li>
<li><a href="/functions/strpbrk">strpbrk</a></li>
<li><a href="/functions/strpos">strpos</a></li>
<li><a href="/functions/strrchr">strrchr</a></li>
<li><a href="/functions/strrev">strrev</a></li>
<li><a href="/functions/strripos">strripos</a></li>
<li><a href="/functions/strrpos">strrpos</a></li>
<li><a href="/functions/strspn">strspn</a></li>
<li><a href="/functions/strstr">strstr</a></li>
<li><a href="/functions/strtok">strtok</a></li>
<li><a href="/functions/strtolower">strtolower</a></li>
<li><a href="/functions/strtoupper">strtoupper</a></li>
<li><a href="/functions/strtr">strtr</a></li>
<li><a href="/functions/substr">substr</a></li>
<li><a href="/functions/substr_compare">substr_compare</a></li>
<li><a href="/functions/substr_count">substr_count</a></li>
<li><a href="/functions/substr_replace">substr_replace</a></li>
<li><a href="/functions/trim">trim</a></li>
<li><a href="/functions/ucfirst">ucfirst</a></li>
<li><a href="/functions/ucwords">ucwords</a></li>
<li><a href="/functions/vprintf">vprintf</a></li>
<li><a href="/functions/vsprintf">vsprintf</a></li>
<li><a href="/functions/wordwrap">wordwrap</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
Baijun
</strong>
on 2012-09-12 08:45:35 <br />
Thanks bro&#8230; its really helpful to me&#8230;.
<hr />


<strong>
<a href="http://www.technomixx.com" rel="nofollow">technomixx</a>
</strong>
on 2011-09-02 11:48:37 <br />
Great, nice script, I have used it working well thanks.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-12-30 07:00:23 <br />
@Robert Hollencamp: yes, thanks, you are correct. Previously fixed in Git, but not yet making it to the site here.
<hr />


<strong>
<a href="http://power-user-tools.no-ip.org" rel="nofollow">Robert Hollencamp</a>
</strong>
on 2009-12-29 21:25:05 <br />
Line 19 (return &#8216;\u000&#8217;;) causes parse errors in safari and IE; adding an extra 0 (return &#8216;\u0000&#8217;;) seems to fix the problem
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-06-10 14:49:55 <br />
@ Rick &amp; Brett Zamir: Well for one thing it isn&#8217;t part of PHP functions. And that&#8217;s what we&#8217;re providing here. If people want to take that functionality and wrap it in something that does provide chaining, they are free to do so, and the namespaced version of php.js would probably be easiest to extend on.

That said, I&#8217;ve seen rumours that PHP6 does support chaining so by the time that it&#8217;s stable we may have to support it after all :)
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-06-04 01:46:57 <br />
Hi Rick,

It turns out stripslashes doesn&#8217;t only strip those next to quotation works, even though addslashes only adds them this way. But it does preserve double-backslashed items and does convert the NULL character. I&#8217;ve optimized the handling to avoid going over the same characters again as well as handled removing backslashes at the end.

As far as string conversion, it seems PHP does convert first to a string (at least with integers), so I think we&#8217;re ok there.

As far as chaining via the prototype, though that can definitely be convenient, for larger scripts, there is a potential for a clash of implementations (e.g., someone may later override the prototype with their own function, say stripslashes() which say only strips slashes next to quotes). These are kind of like globals and really are to be avoided at least for library projects. 

We could still conceivably get chaining of methods, such as jQuery does, by first making our string into an object, for example:

<pre><code>var newStr = $PJ(str).addslashes().str_replace('stuff', '').exit();</code></pre>

&#8230;but this would require making a version of PHP.JS where each function returned &quot;this&quot;, and we&#8217;d need to define the constructor and exit methods. Not sure how popular that would be either, though it could be done.
<hr />


<strong>
Rick
</strong>
on 2009-06-03 23:02:08 <br />
I posted that with a bit of haste&#8230;

some corrections:
<pre><code>
String.prototype.stripslashes = function() {
  return  this.replace(/\\'/g,'\'')
                .replace(/\\&quot;/g,'&quot;')
                  .replace(/\\\\/g,'\\')
                    .replace(/\\0/g,'\0');
}
// that can also be added to for htmlentity support. but thats not the point i'm trying to make.

var str = &quot;that\'s everything folks&quot;;
str.stripslashes().replace('everything', 'all');
// stripslashes, then demonstrates chainability
</code></pre>
<hr />


<strong>
Rick Waldron
</strong>
on 2009-06-03 22:26:56 <br />
Just out of curiousity&#8230; how come you didn&#8217;t write these functions as methods of an object?
example:
<pre><code>
String.prototype.stripslashes = function() {
  return this.replace('/\0/g', '0').replace('/\(.)/g', '$1')
}
</code></pre>

that way you dont have to force it into a string, it can now also be chained&#8230; like&#8230;

<pre><code>
var str = &quot;that's everything folks&quot;;
str.stripslashes().replace('everything', 'all');
</code></pre>



note&#8230; i used the corrected version posted by Onno Marsman below.
<hr />


<strong>
<a href="http://www.dibsplace.com" rel="nofollow">Dave Baldwin</a>
</strong>
on 2009-05-29 04:18:28 <br />
I just had to use this to get rid of a slash &quot;&#39;&quot; because the single quote was really the htmlentity &quot;&amp;#39;&quot;:

<pre><code>
str=str.replace(/\\&amp;#39;/g,&quot;'&quot;);
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-12-17 13:25:10 <br />
@ rezna: Ok as I see it your code only replaces  either \ or &#8217; or &amp;quot;, and not any other character that is escaped. Fair enough. But are you sure the previous function didn&#8217;t work? It didn&#8217;t give issues in the test suite. Not even with the old implementation and your new sample code.
<hr />


<strong>
<a href="http://rezna.info" rel="nofollow">rezna</a>
</strong>
on 2008-12-15 15:26:17 <br />
stripslashes doesn&#8217;t work, the implementation should be this

<pre><code>
return (str+'').replace(/\0/g, '0').replace(/\\([\\'&amp;quot;])/g, '$1');
</code></pre>

and your sample code should be
<pre><code>
stripslashes('Kevins\\\'s code')
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-10-06 12:02:05 <br />
@ Onno Marsmann: Fixed, thank you!
<hr />


<strong>
Onno Marsman
</strong>
on 2008-10-04 17:11:20 <br />
stripslashes(6) won&#8217;t work. Fix:

<pre><code>
function stripslashes( str ) {
    return (str+'').replace('/\0/g', '0').replace('/\(.)/g', '$1');
}
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-29 20:52:23 <br />
@ Mickael9: Thanks for your input!
<hr />


<strong>
Mickael9
</strong>
on 2008-01-27 17:59:49 <br />
Huh, sorry, I meant stripslashes(&amp;quot;\x20&amp;quot;), not stripslashes(&#8216;\x20&#8217;)
<hr />


<strong>
Mickael9
</strong>
on 2008-01-27 17:56:26 <br />
Hello,

Ates Goral, you&#8217;re totally wrong !
stripslashes only removes \ it DOES NOT unescapes octal and hexadecimal code sequences, you are experimenting in a wrong way, remember, when you call stripslashes(&#8216;\x20&#8217;), PHP ITSELFS turns \x20 in a space, not your function, read the addslashes manual, it onlty turns &#8217; into &#39;, &amp;quot; into \&amp;quot;, \ into &#92; and NULL into \0.

Here is the fixedfunction :
<pre><code>function stripslashes (str)
{
    // http://kevin.vanzonneveld.net
    // +   improved by: Ates Goral (http://magnetiq.com)
    // +   fixed by: Mick@el
    // *     example : stripslashes(&amp;quot;Kevin\\\\'s code&amp;quot;);
    // *     returns : 'Kevin\'s code'
    return str.replace(/\\0/g, '\0').replace(/\\(.)/g, '$1')
}
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-23 21:45:01 <br />
@ Ates Goral: Obviously!
<hr />


<strong>
Ates Goral
</strong>
on 2008-01-23 21:09:44 <br />
Thanks Kevin! Err&#8230; I want my credits in the function comments (I&#8217;m keen on keeping the two medals, at least for a while) ;)
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-23 20:25:53 <br />
@ Ates Goral: Nicely crafted.
<hr />


<strong>
Ates Goral
</strong>
on 2008-01-23 18:35:44 <br />
stripslashes() unescapes octal and hexadecimal ASCII code sequences as well. So we should have instead:

<pre><code>
return str.replace(/\\([&amp;quot;'\\])/g, &amp;quot;$1&amp;quot;).replace(/(\\(?:[0-7]{1,3}|x[\dA-Fa-f]{1-2}))/g, function(code) { return String.fromCharCode(code); });
</code></pre>

Additional test:
<pre><code>
    // *     example 2: stripslashes(&amp;quot;Hello\x20World\41&amp;quot;);
    // *     returns 2: &amp;quot;Hello World!&amp;quot;
</code></pre>
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/stripslashes/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/stripslashes/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/stripslashes/index.html';
        var disqus_url = 'http://phpjs.org/functions/stripslashes/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
