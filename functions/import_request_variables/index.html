
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript import_request_variables function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript import_request_variables function A JavaScript equivalent of PHP&#8217;s import_request_variables var/import_request_variables.js raw on &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/import_request_variables/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">php</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">.js</a></h1>
  
    <h2>A resource of php functions in JavaScript</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript import_request_variables function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s import_request_variables</p>

<figure class='code'><figcaption><span>var/import_request_variables.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/var/import_request_variables.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">import_request_variables</span> <span class="p">(</span><span class="nx">types</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +      original by: Jalal Berrami</span>
</span><span class='line'>  <span class="c1">// + reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// + improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// %          note 1: IMPORTANT: You must sanitize user variables passed in via URL in JavaScript as in PHP,</span>
</span><span class='line'>  <span class="c1">// %          note 1: especially if you want to use any of these variables in an eval()-like function (not recommended)!</span>
</span><span class='line'>  <span class="c1">// *        example 1: document.cookie = &#39;snack=yummy&#39;;</span>
</span><span class='line'>  <span class="c1">// *        example 1: import_request_variables(&#39;gc&#39;, &#39;pr_&#39;);</span>
</span><span class='line'>  <span class="c1">// *        results 1: pr_snack == &#39;yummy&#39;</span>
</span><span class='line'>  <span class="c1">// *        example 2: ini_set(&#39;phpjs.getVarsObj&#39;, $_GET = {}); // Only works in PHP.JS, not PHP (!), though by using ini_set(), it does work as though PHP.JS were an extension to PHP</span>
</span><span class='line'>  <span class="c1">// *        example 2: import_request_variables(&#39;g&#39;); // Allows $_GET[&#39;myRequestVar&#39;] access to query string variables</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">current</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">vars</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">arrayBracketPos</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">arrName</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">win</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">requestObj</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">getObj</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">cookieObj</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">prefix</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_ini_get</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ini</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">&amp;&amp;</span> <span class="nx">that</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">ini</span> <span class="o">&amp;&amp;</span> <span class="nx">that</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">ini</span><span class="p">[</span><span class="nx">ini</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">that</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">ini</span><span class="p">[</span><span class="nx">ini</span><span class="p">].</span><span class="nx">local_value</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Allow designated object to be used instead of window</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">that</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">ini</span><span class="p">[</span><span class="nx">ini</span><span class="p">].</span><span class="nx">local_value</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">requestObj</span> <span class="o">=</span> <span class="nx">_ini_get</span><span class="p">(</span><span class="s1">&#39;phpjs.requestVarsObj&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">requestObj</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="sr">/g/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">types</span><span class="p">))</span> <span class="p">{</span> <span class="c1">// GET</span>
</span><span class='line'>    <span class="nx">getObj</span> <span class="o">=</span> <span class="nx">_ini_get</span><span class="p">(</span><span class="s1">&#39;phpjs.getVarsObj&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">getObj</span><span class="p">;</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span> <span class="nx">vars</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">url</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">);</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">vars</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">current</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span><span class='line'>      <span class="nx">arrayBracketPos</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">arrayBracketPos</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">arrName</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">arrayBracketPos</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">arrName</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">arrName</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">requestObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">requestObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="nx">requestObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">getObj</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">getObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">getObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>          <span class="nx">getObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">arrName</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>        <span class="nx">requestObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">getObj</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">getObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="sr">/c/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">types</span><span class="p">))</span> <span class="p">{</span> <span class="c1">// COOKIE</span>
</span><span class='line'>    <span class="nx">cookieObj</span> <span class="o">=</span> <span class="nx">_ini_get</span><span class="p">(</span><span class="s1">&#39;phpjs.cookieVarsObj&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">cookieObj</span><span class="p">;</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">vars</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">vars</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">current</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">requestObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">cookieObj</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">cookieObj</span><span class="p">[</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">current</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/var/import_request_variables.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/var/import_request_variables.js">edit on github</a></li>
</ul>


<h3>Other PHP functions in the var extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/doubleval">doubleval</a></li>
<li><a href="/functions/empty">empty</a></li>
<li><a href="/functions/floatval">floatval</a></li>
<li><a href="/functions/get_defined_vars">get_defined_vars</a></li>
<li><a href="/functions/get_resource_type">get_resource_type</a></li>
<li><a href="/functions/gettype">gettype</a></li>
<li><a href="/functions/import_request_variables">import_request_variables</a></li>
<li><a href="/functions/intval">intval</a></li>
<li><a href="/functions/is_array">is_array</a></li>
<li><a href="/functions/is_binary">is_binary</a></li>
<li><a href="/functions/is_bool">is_bool</a></li>
<li><a href="/functions/is_buffer">is_buffer</a></li>
<li><a href="/functions/is_callable">is_callable</a></li>
<li><a href="/functions/is_double">is_double</a></li>
<li><a href="/functions/is_float">is_float</a></li>
<li><a href="/functions/is_int">is_int</a></li>
<li><a href="/functions/is_integer">is_integer</a></li>
<li><a href="/functions/is_long">is_long</a></li>
<li><a href="/functions/is_null">is_null</a></li>
<li><a href="/functions/is_numeric">is_numeric</a></li>
<li><a href="/functions/is_object">is_object</a></li>
<li><a href="/functions/is_real">is_real</a></li>
<li><a href="/functions/is_resource">is_resource</a></li>
<li><a href="/functions/is_scalar">is_scalar</a></li>
<li><a href="/functions/is_string">is_string</a></li>
<li><a href="/functions/is_unicode">is_unicode</a></li>
<li><a href="/functions/isset">isset</a></li>
<li><a href="/functions/print_r">print_r</a></li>
<li><a href="/functions/serialize">serialize</a></li>
<li><a href="/functions/settype">settype</a></li>
<li><a href="/functions/strval">strval</a></li>
<li><a href="/functions/unserialize">unserialize</a></li>
<li><a href="/functions/var_dump">var_dump</a></li>
<li><a href="/functions/var_export">var_export</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://tablefield.com" rel="nofollow">Oria</a>
</strong>
on 2012-03-31 03:31:00 <br />
Hi,
If I got it right - by default the requestObj is the globals?? run over all my global vars with the ones from cookies and url? that&#8217;s really a bad idea&#8230; 
PHP had removed that feature, so I feel free to criticize it here as well :)
In any case requestObj should consider the ini_get(&#8216;register_globals&#8217;) and skip requestObj when this setting is off.

I feel that by default it should either do nothing (like get and cookies are not populated by default). 
Though personally I would be really happy that by default this function will populate $_GET and $_COOKIES and $_REQUEST under the current namespace (even if it is this.window, because no one would ever use a var named exactly &quot;$_GET&quot; for any other use&#8230;)

I suggest:
<pre><code>
line 33: if (!_ini_get('register_globals')) requestObj=false;
line 44: if (requestObj!==false &amp;&amp; !requestObj[prefix + arrName]) {
line 47: if (requestObj!==false) requestObj[prefix + arrName].push(current[1] || null);
line 56: if (requestObj!==false) requestObj[prefix + current[0]] = current[1] || null;
line 67:  if (requestObj!==false) requestObj[prefix + current[0]] = current[1].split(&quot;;&quot;)[0] || null;
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-08-22 17:11:52 <br />
@ Stuart: &quot;have the admin of this site add $_GET, $_POST, $_COOKIE in the function list&quot;.

Well, no, because those are not functions. They&#8217;re just global variables, something I&#8217;d rather not touch (at least not by default).

Fair enough: If you can achieve this with PHP.JS by going through some hoops like Brett pointed out; you are actively &amp; intentionally bringing globals to your project and I can live with that.

What I could do though is see if there&#8217;s a better place to reference to Brett&#8217;s solution for people who are craving; but like he said: I personally don&#8217;t want to port or maintain anything else than just functions.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-08-16 18:08:51 <br />
@Stuart, Thanks for your comments.

1) There is an example which shows how it works with cookies. The PHP documentation basically shows how it works otherwise, or if not, the source has to work as documentation until such time as volunteers may create documentation (though we&#8217;re happy to address most questions if it&#8217;s not clear). Admittedly in this case, this function involves our own (optional) custom behavior, so it does need a little more explaining to use it with all options.

JavaScript can detect the current URL with its query string (window.location.href), so this function takes advantage of that. For $_COOKIE, we get it via document.cookie. As far as $_POST, you won&#8217;t be able to implement this one, I think I can safely say, unless you&#8217;re actually working with Server-Side JavaScript (not PHP). With HTML 5, we could perhaps use $_POST for messages submitted by another tab/window, but that&#8217;s a different story.

As far as why we don&#8217;t do it during onload, there are two reasons:

1) Kevin has wanted to stick to functions only.
2) import_request_variables() function is not designed to replicate $_GET. It is more designed to control register_globals behavior. register_globals is deprecated and a bad idea, including if using this function, particular without a second argument, so we don&#8217;t want to automatically run this function. That being said, the function allows you to use our own custom ini setting (ini_set() being a PHP function which we use for PHP ini settings and our own) to designate an object (instead of the global object, as in PHP) which can hold the request variables.

So, if you have &quot;?myvar=hello&quot; at the end of your URL, you can do the following:

<pre><code>
ini_set('phpjs.getVarsObj', $_GET = {}); // Only works in PHP.JS, not PHP (!), though by using ini_set(), it does work as though PHP.JS were an extension to PHP
import_request_variables('g'); // We only import $_GET here, but we don't add any prefix to the variable names since we used a more proper &quot;namespace&quot; via the ini_set() call above.
alert($_GET['myvar']); // 'hello'
</code></pre>

Note, however, that the (optional) non-PHP behavior of some PHP.JS functions is not guaranteed to remain stable; it&#8217;s just a convenience, so that&#8217;s why we don&#8217;t spend much time documenting it (at least until it&#8217;s tried out more).

Another option you/we have is to allow some configuration in the namespaced version to set $_GET (or it would also work with the non-namespaced version if run to work in an anonymous namespace).
<hr />


<strong>
Stuart
</strong>
on 2009-08-14 07:13:58 <br />
Just want you guys to know that since this is not a normal PHP function you guys should document it better.

for instance, how do I:
$_GET
$_POST
$_COOKIE

And explain why its called by a function and not just done at window.onload.

O and another thing, have the admin of this site add $_GET, $_POST, $_COOKIE in the function list and have it forward here because at first it seamed like these are missing and or are not possible with this library.

Luckily I found it on another website.

:) but any ways thanks for the time you placed in this one. This is a very important function.
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/import_request_variables/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/import_request_variables/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/import_request_variables/index.html';
        var disqus_url = 'http://phpjs.org/functions/import_request_variables/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
