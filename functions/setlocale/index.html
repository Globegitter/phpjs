
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript setlocale function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript setlocale function A JavaScript equivalent of PHP&#8217;s setlocale strings/setlocale.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/setlocale/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">php</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">.js</a></h1>
  
    <h2>A resource of php functions in JavaScript</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript setlocale function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s setlocale</p>

<figure class='code'><figcaption><span>strings/setlocale.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/strings/setlocale.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">setlocale</span> <span class="p">(</span><span class="nx">category</span><span class="p">,</span> <span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +   derived from: Blues at http://hacks.bluesmoon.info/strftime/strftime.js</span>
</span><span class='line'>  <span class="c1">// +   derived from: YUI Library: http://developer.yahoo.com/yui/docs/YAHOO.util.DateLocale.html</span>
</span><span class='line'>  <span class="c1">// -    depends on: getenv</span>
</span><span class='line'>  <span class="c1">// %          note 1: Is extensible, but currently only implements locales en,</span>
</span><span class='line'>  <span class="c1">// %          note 1: en_US, en_GB, en_AU, fr, and fr_CA for LC_TIME only; C for LC_CTYPE;</span>
</span><span class='line'>  <span class="c1">// %          note 1: C and en for LC_MONETARY/LC_NUMERIC; en for LC_COLLATE</span>
</span><span class='line'>  <span class="c1">// %          note 2: Uses global: php_js to store locale info</span>
</span><span class='line'>  <span class="c1">// %          note 3: Consider using http://demo.icu-project.org/icu-bin/locexp as basis for localization (as in i18n_loc_set_default())</span>
</span><span class='line'>  <span class="c1">// *     example 1: setlocale(&#39;LC_ALL&#39;, &#39;en_US&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: &#39;en_US&#39;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">categ</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">cats</span> <span class="o">=</span> <span class="p">[],</span>
</span><span class='line'>    <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">d</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// BEGIN STATIC</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_copy</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">orig</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">orig</span> <span class="k">instanceof</span> <span class="nb">RegExp</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">orig</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">orig</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">orig</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">newObj</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">orig</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">orig</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">newObj</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">orig</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">newObj</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">orig</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">newObj</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Function usable by a ngettext implementation (apparently not an accessible part of setlocale(), but locale-specific)</span>
</span><span class='line'>  <span class="c1">// See http://www.gnu.org/software/gettext/manual/gettext.html#Plural-forms though amended with others from</span>
</span><span class='line'>  <span class="c1">// https://developer.mozilla.org/En/Localization_and_Plurals (new categories noted with &quot;MDC&quot; below, though</span>
</span><span class='line'>  <span class="c1">// not sure of whether there is a convention for the relative order of these newer groups as far as ngettext)</span>
</span><span class='line'>  <span class="c1">// The function name indicates the number of plural forms (nplural)</span>
</span><span class='line'>  <span class="c1">// Need to look into http://cldr.unicode.org/ (maybe future JavaScript); Dojo has some functions (under new BSD),</span>
</span><span class='line'>  <span class="c1">// including JSON conversions of LDML XML from CLDR: http://bugs.dojotoolkit.org/browser/dojo/trunk/cldr</span>
</span><span class='line'>  <span class="c1">// and docs at http://api.dojotoolkit.org/jsdoc/HEAD/dojo.cldr</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals1</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Japanese</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals2a</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., English</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals2b</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., French</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals2c</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Icelandic (MDC)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">11</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3a</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Latvian (MDC has a different order from gettext)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">11</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3b</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Scottish Gaelic</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3c</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Romanian</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="p">(</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">))</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3d</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Lithuanian (MDC has a different order from gettext)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">11</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3e</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Croatian</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">11</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">&lt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3f</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Slovak</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">4</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3g</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Polish</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">&lt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals3h</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Macedonian (MDC)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals4a</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Slovenian</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals4b</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Maltese (MDC)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="p">(</span><span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">11</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="mi">19</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals5</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Irish Gaeilge (MDC)</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">6</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">10</span> <span class="o">?</span> <span class="mi">3</span> <span class="o">:</span> <span class="mi">4</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">_nplurals6</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// e.g., Arabic (MDC) - Per MDC puts 0 as last group</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">5</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="mi">10</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&gt;=</span> <span class="mi">11</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="mi">99</span> <span class="o">?</span> <span class="mi">3</span> <span class="o">:</span> <span class="mi">4</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>  <span class="c1">// END STATIC</span>
</span><span class='line'>  <span class="c1">// BEGIN REDUNDANT</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">||</span> <span class="p">{};</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">phpjs</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Reconcile Windows vs. *nix locale names?</span>
</span><span class='line'>  <span class="c1">// Allow different priority orders of languages, esp. if implement gettext as in</span>
</span><span class='line'>  <span class="c1">//     LANGUAGE env. var.? (e.g., show German if French is not available)</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Can add to the locales</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>      <span class="s1">&#39;LC_COLLATE&#39;</span><span class="o">:</span> <span class="c1">// For strcoll</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>      <span class="kd">function</span> <span class="p">(</span><span class="nx">str1</span><span class="p">,</span> <span class="nx">str2</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Fix: This one taken from strcmp, but need for other locales; we don&#39;t use localeCompare since its locale is not settable</span>
</span><span class='line'>        <span class="k">return</span> <span class="p">(</span><span class="nx">str1</span> <span class="o">==</span> <span class="nx">str2</span><span class="p">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="p">((</span><span class="nx">str1</span> <span class="o">&gt;</span> <span class="nx">str2</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="s1">&#39;LC_CTYPE&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Need to change any of these for English as opposed to C?</span>
</span><span class='line'>        <span class="nx">an</span><span class="o">:</span> <span class="sr">/^[A-Za-z\d]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">al</span><span class="o">:</span> <span class="sr">/^[A-Za-z]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">ct</span><span class="o">:</span> <span class="sr">/^[\u0000-\u001F\u007F]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">dg</span><span class="o">:</span> <span class="sr">/^[\d]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">gr</span><span class="o">:</span> <span class="sr">/^[\u0021-\u007E]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">lw</span><span class="o">:</span> <span class="sr">/^[a-z]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">pr</span><span class="o">:</span> <span class="sr">/^[\u0020-\u007E]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">pu</span><span class="o">:</span> <span class="sr">/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">sp</span><span class="o">:</span> <span class="sr">/^[\f\n\r\t\v ]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">up</span><span class="o">:</span> <span class="sr">/^[A-Z]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">xd</span><span class="o">:</span> <span class="sr">/^[A-Fa-f\d]+$/g</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">CODESET</span><span class="o">:</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// Used by sql_regcase</span>
</span><span class='line'>        <span class="nx">lower</span><span class="o">:</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">upper</span><span class="o">:</span> <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="s1">&#39;LC_TIME&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Comments include nl_langinfo() constant equivalents and any changes from Blues&#39; implementation</span>
</span><span class='line'>        <span class="nx">a</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Sun&#39;</span><span class="p">,</span> <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// ABDAY_</span>
</span><span class='line'>        <span class="nx">A</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Sunday&#39;</span><span class="p">,</span> <span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// DAY_</span>
</span><span class='line'>        <span class="nx">b</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Jan&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// ABMON_</span>
</span><span class='line'>        <span class="nx">B</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;January&#39;</span><span class="p">,</span> <span class="s1">&#39;February&#39;</span><span class="p">,</span> <span class="s1">&#39;March&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;June&#39;</span><span class="p">,</span> <span class="s1">&#39;July&#39;</span><span class="p">,</span> <span class="s1">&#39;August&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;October&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;December&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// MON_</span>
</span><span class='line'>        <span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;%a %d %b %Y %r %Z&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// D_T_FMT // changed %T to %r per results</span>
</span><span class='line'>        <span class="nx">p</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;AM&#39;</span><span class="p">,</span> <span class="s1">&#39;PM&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// AM_STR/PM_STR</span>
</span><span class='line'>        <span class="nx">P</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;am&#39;</span><span class="p">,</span> <span class="s1">&#39;pm&#39;</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// Not available in nl_langinfo()</span>
</span><span class='line'>        <span class="nx">r</span><span class="o">:</span> <span class="s1">&#39;%I:%M:%S %p&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// T_FMT_AMPM (Fixed for all locales)</span>
</span><span class='line'>        <span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;%m/%d/%Y&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// D_FMT // switched order of %m and %d; changed %y to %Y (C uses %y)</span>
</span><span class='line'>        <span class="nx">X</span><span class="o">:</span> <span class="s1">&#39;%r&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// T_FMT // changed from %T to %r  (%T is default for C, not English US)</span>
</span><span class='line'>        <span class="c1">// Following are from nl_langinfo() or http://www.cptec.inpe.br/sx4/sx4man2/g1ab02e/strftime.4.html</span>
</span><span class='line'>        <span class="nx">alt_digits</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// e.g., ordinal</span>
</span><span class='line'>        <span class="nx">ERA</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">ERA_YEAR</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">ERA_D_T_FMT</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">ERA_D_FMT</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">ERA_T_FMT</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="c1">// Assuming distinction between numeric and monetary is thus:</span>
</span><span class='line'>      <span class="c1">// See below for C locale</span>
</span><span class='line'>      <span class="s1">&#39;LC_MONETARY&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Based on Windows &quot;english&quot; (English_United States.1252) locale</span>
</span><span class='line'>        <span class="nx">int_curr_symbol</span><span class="o">:</span> <span class="s1">&#39;USD&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">currency_symbol</span><span class="o">:</span> <span class="s1">&#39;$&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">mon_decimal_point</span><span class="o">:</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">mon_thousands_sep</span><span class="o">:</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">mon_grouping</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
</span><span class='line'>        <span class="c1">// use mon_thousands_sep; &quot;&quot; for no grouping; additional array members indicate successive group lengths after first group (e.g., if to be 1,23,456, could be [3, 2])</span>
</span><span class='line'>        <span class="nx">positive_sign</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">negative_sign</span><span class="o">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">int_frac_digits</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// Fractional digits only for money defaults?</span>
</span><span class='line'>        <span class="nx">frac_digits</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">p_cs_precedes</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// positive currency symbol follows value = 0; precedes value = 1</span>
</span><span class='line'>        <span class="nx">p_sep_by_space</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// 0: no space between curr. symbol and value; 1: space sep. them unless symb. and sign are adjacent then space sep. them from value; 2: space sep. sign and value unless symb. and sign are adjacent then space separates</span>
</span><span class='line'>        <span class="nx">n_cs_precedes</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// see p_cs_precedes</span>
</span><span class='line'>        <span class="nx">n_sep_by_space</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// see p_sep_by_space</span>
</span><span class='line'>        <span class="nx">p_sign_posn</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'>        <span class="c1">// 0: parentheses surround quantity and curr. symbol; 1: sign precedes them; 2: sign follows them; 3: sign immed. precedes curr. symbol; 4: sign immed. succeeds curr. symbol</span>
</span><span class='line'>        <span class="nx">n_sign_posn</span><span class="o">:</span> <span class="mi">0</span> <span class="c1">// see p_sign_posn</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="s1">&#39;LC_NUMERIC&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Based on Windows &quot;english&quot; (English_United States.1252) locale</span>
</span><span class='line'>        <span class="nx">decimal_point</span><span class="o">:</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">thousands_sep</span><span class="o">:</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">grouping</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="c1">// see mon_grouping, but for non-monetary values (use thousands_sep)</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="s1">&#39;LC_MESSAGES&#39;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">YESEXPR</span><span class="o">:</span> <span class="s1">&#39;^[yY].*&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">NOEXPR</span><span class="o">:</span> <span class="s1">&#39;^[nN].*&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">YESSTR</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">NOSTR</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="nx">nplurals</span><span class="o">:</span> <span class="nx">_nplurals2a</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="s1">&#39;%a %d %b %Y %r %Z&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="s1">&#39;%D&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">X</span> <span class="o">=</span> <span class="s1">&#39;%r&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="c1">// The following are based on *nix settings</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_MONETARY</span><span class="p">.</span><span class="nx">int_curr_symbol</span> <span class="o">=</span> <span class="s1">&#39;USD &#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_MONETARY</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_MONETARY</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_MONETARY</span><span class="p">.</span><span class="nx">mon_grouping</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_NUMERIC</span><span class="p">.</span><span class="nx">thousands_sep</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_US</span><span class="p">.</span><span class="nx">LC_NUMERIC</span><span class="p">.</span><span class="nx">grouping</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_GB</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_GB</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="s1">&#39;%l:%M:%S %P %Z&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_AU</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en_GB</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en</span><span class="p">);</span> <span class="c1">// Assume C locale is like English (?) (We need C locale for LC_CTYPE)</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_CTYPE</span><span class="p">.</span><span class="nx">CODESET</span> <span class="o">=</span> <span class="s1">&#39;ANSI_X3.4-1968&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_MONETARY</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">int_curr_symbol</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">currency_symbol</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">mon_decimal_point</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">mon_thousands_sep</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">mon_grouping</span><span class="o">:</span> <span class="p">[],</span>
</span><span class='line'>      <span class="nx">p_cs_precedes</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">p_sep_by_space</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">n_cs_precedes</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">n_sep_by_space</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">p_sign_posn</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">n_sign_posn</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">positive_sign</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">negative_sign</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">int_frac_digits</span><span class="o">:</span> <span class="mi">127</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">frac_digits</span><span class="o">:</span> <span class="mi">127</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_NUMERIC</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">decimal_point</span><span class="o">:</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">thousands_sep</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">grouping</span><span class="o">:</span> <span class="p">[]</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="s1">&#39;%a %b %e %H:%M:%S %Y&#39;</span><span class="p">;</span> <span class="c1">// D_T_FMT</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="s1">&#39;%m/%d/%y&#39;</span><span class="p">;</span> <span class="c1">// D_FMT</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">X</span> <span class="o">=</span> <span class="s1">&#39;%H:%M:%S&#39;</span><span class="p">;</span> <span class="c1">// T_FMT</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_MESSAGES</span><span class="p">.</span><span class="nx">YESEXPR</span> <span class="o">=</span> <span class="s1">&#39;^[yY]&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">C</span><span class="p">.</span><span class="nx">LC_MESSAGES</span><span class="p">.</span><span class="nx">NOEXPR</span> <span class="o">=</span> <span class="s1">&#39;^[nN]&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">en</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">nplurals</span> <span class="o">=</span> <span class="nx">_nplurals2b</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dim&#39;</span><span class="p">,</span> <span class="s1">&#39;lun&#39;</span><span class="p">,</span> <span class="s1">&#39;mar&#39;</span><span class="p">,</span> <span class="s1">&#39;mer&#39;</span><span class="p">,</span> <span class="s1">&#39;jeu&#39;</span><span class="p">,</span> <span class="s1">&#39;ven&#39;</span><span class="p">,</span> <span class="s1">&#39;sam&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">A</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dimanche&#39;</span><span class="p">,</span> <span class="s1">&#39;lundi&#39;</span><span class="p">,</span> <span class="s1">&#39;mardi&#39;</span><span class="p">,</span> <span class="s1">&#39;mercredi&#39;</span><span class="p">,</span> <span class="s1">&#39;jeudi&#39;</span><span class="p">,</span> <span class="s1">&#39;vendredi&#39;</span><span class="p">,</span> <span class="s1">&#39;samedi&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span><span class="p">,</span> <span class="s1">&#39;f\u00E9v&#39;</span><span class="p">,</span> <span class="s1">&#39;mar&#39;</span><span class="p">,</span> <span class="s1">&#39;avr&#39;</span><span class="p">,</span> <span class="s1">&#39;mai&#39;</span><span class="p">,</span> <span class="s1">&#39;jun&#39;</span><span class="p">,</span> <span class="s1">&#39;jui&#39;</span><span class="p">,</span> <span class="s1">&#39;ao\u00FB&#39;</span><span class="p">,</span> <span class="s1">&#39;sep&#39;</span><span class="p">,</span> <span class="s1">&#39;oct&#39;</span><span class="p">,</span> <span class="s1">&#39;nov&#39;</span><span class="p">,</span> <span class="s1">&#39;d\u00E9c&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">B</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;janvier&#39;</span><span class="p">,</span> <span class="s1">&#39;f\u00E9vrier&#39;</span><span class="p">,</span> <span class="s1">&#39;mars&#39;</span><span class="p">,</span> <span class="s1">&#39;avril&#39;</span><span class="p">,</span> <span class="s1">&#39;mai&#39;</span><span class="p">,</span> <span class="s1">&#39;juin&#39;</span><span class="p">,</span> <span class="s1">&#39;juillet&#39;</span><span class="p">,</span> <span class="s1">&#39;ao\u00FBt&#39;</span><span class="p">,</span> <span class="s1">&#39;septembre&#39;</span><span class="p">,</span> <span class="s1">&#39;octobre&#39;</span><span class="p">,</span> <span class="s1">&#39;novembre&#39;</span><span class="p">,</span> <span class="s1">&#39;d\u00E9cembre&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="s1">&#39;%a %d %b %Y %T %Z&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">P</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">];</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="s1">&#39;%d.%m.%Y&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">X</span> <span class="o">=</span> <span class="s1">&#39;%T&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr_CA</span> <span class="o">=</span> <span class="nx">_copy</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">.</span><span class="nx">fr_CA</span><span class="p">.</span><span class="nx">LC_TIME</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="s1">&#39;en_US&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">NS_XHTML</span> <span class="o">=</span> <span class="s1">&#39;http://www.w3.org/1999/xhtml&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">NS_XML</span> <span class="o">=</span> <span class="s1">&#39;http://www.w3.org/XML/1998/namespace&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getAttributeNS</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getAttributeNS</span><span class="p">(</span><span class="nx">NS_XML</span><span class="p">,</span> <span class="s1">&#39;lang&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getAttributeNS</span><span class="p">(</span><span class="nx">NS_XML</span><span class="p">,</span> <span class="s1">&#39;lang&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">lang</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// XHTML 1.0 only</span>
</span><span class='line'>        <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagNameNS</span><span class="p">(</span><span class="nx">NS_XHTML</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">lang</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">lang</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">lang</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">);</span> <span class="c1">// PHP-style</span>
</span><span class='line'>  <span class="c1">// Fix locale if declared locale hasn&#39;t been defined</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="k">in</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/_[a-zA-Z]+$/</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">in</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locales</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="o">=</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/_[a-zA-Z]+$/</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">phpjs</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">phpjs</span><span class="p">.</span><span class="nx">localeCategories</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>      <span class="s1">&#39;LC_COLLATE&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">,</span>
</span><span class='line'>      <span class="c1">// for string comparison, see strcoll()</span>
</span><span class='line'>      <span class="s1">&#39;LC_CTYPE&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">,</span>
</span><span class='line'>      <span class="c1">// for character classification and conversion, for example strtoupper()</span>
</span><span class='line'>      <span class="s1">&#39;LC_MONETARY&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">,</span>
</span><span class='line'>      <span class="c1">// for localeconv()</span>
</span><span class='line'>      <span class="s1">&#39;LC_NUMERIC&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">,</span>
</span><span class='line'>      <span class="c1">// for decimal separator (See also localeconv())</span>
</span><span class='line'>      <span class="s1">&#39;LC_TIME&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">,</span>
</span><span class='line'>      <span class="c1">// for date and time formatting with strftime()</span>
</span><span class='line'>      <span class="s1">&#39;LC_MESSAGES&#39;</span><span class="o">:</span> <span class="nx">phpjs</span><span class="p">.</span><span class="nx">locale</span> <span class="c1">// for system responses (available if PHP was compiled with libintl)</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="c1">// END REDUNDANT</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">locale</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">locale</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">locale</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getenv</span><span class="p">(</span><span class="nx">category</span><span class="p">)</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">getenv</span><span class="p">(</span><span class="s1">&#39;LANG&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">locale</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">locales</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// none found</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">continue</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="nx">locale</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class='line'>      <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Just get the locale</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">locale</span> <span class="o">===</span> <span class="s1">&#39;0&#39;</span> <span class="o">||</span> <span class="nx">locale</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">category</span> <span class="o">===</span> <span class="s1">&#39;LC_ALL&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="nx">categ</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">cats</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">categ</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">[</span><span class="nx">categ</span><span class="p">]);</span> <span class="c1">// Add &quot;.UTF-8&quot; or allow &quot;.@latint&quot;, etc. to the end?</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">cats</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">[</span><span class="nx">category</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">locale</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">locales</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Locale not found</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Set and get locale</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">category</span> <span class="o">===</span> <span class="s1">&#39;LC_ALL&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">categ</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">[</span><span class="nx">categ</span><span class="p">]</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">localeCategories</span><span class="p">[</span><span class="nx">category</span><span class="p">]</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">locale</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/strings/setlocale.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/strings/setlocale.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">setlocale</span><span class="p">(</span><span class="s1">&#39;LC_ALL&#39;</span><span class="p">,</span> <span class="s1">&#39;en_US&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;en_US&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the strings extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/addcslashes">addcslashes</a></li>
<li><a href="/functions/addslashes">addslashes</a></li>
<li><a href="/functions/bin2hex">bin2hex</a></li>
<li><a href="/functions/chop">chop</a></li>
<li><a href="/functions/chr">chr</a></li>
<li><a href="/functions/chunk_split">chunk_split</a></li>
<li><a href="/functions/convert_cyr_string">convert_cyr_string</a></li>
<li><a href="/functions/convert_uuencode">convert_uuencode</a></li>
<li><a href="/functions/count_chars">count_chars</a></li>
<li><a href="/functions/crc32">crc32</a></li>
<li><a href="/functions/echo">echo</a></li>
<li><a href="/functions/explode">explode</a></li>
<li><a href="/functions/get_html_translation_table">get_html_translation_table</a></li>
<li><a href="/functions/html_entity_decode">html_entity_decode</a></li>
<li><a href="/functions/htmlentities">htmlentities</a></li>
<li><a href="/functions/htmlspecialchars">htmlspecialchars</a></li>
<li><a href="/functions/htmlspecialchars_decode">htmlspecialchars_decode</a></li>
<li><a href="/functions/implode">implode</a></li>
<li><a href="/functions/join">join</a></li>
<li><a href="/functions/lcfirst">lcfirst</a></li>
<li><a href="/functions/levenshtein">levenshtein</a></li>
<li><a href="/functions/localeconv">localeconv</a></li>
<li><a href="/functions/ltrim">ltrim</a></li>
<li><a href="/functions/md5">md5</a></li>
<li><a href="/functions/md5_file">md5_file</a></li>
<li><a href="/functions/metaphone">metaphone</a></li>
<li><a href="/functions/money_format">money_format</a></li>
<li><a href="/functions/nl2br">nl2br</a></li>
<li><a href="/functions/nl_langinfo">nl_langinfo</a></li>
<li><a href="/functions/number_format">number_format</a></li>
<li><a href="/functions/ord">ord</a></li>
<li><a href="/functions/parse_str">parse_str</a></li>
<li><a href="/functions/printf">printf</a></li>
<li><a href="/functions/quoted_printable_decode">quoted_printable_decode</a></li>
<li><a href="/functions/quoted_printable_encode">quoted_printable_encode</a></li>
<li><a href="/functions/quotemeta">quotemeta</a></li>
<li><a href="/functions/rtrim">rtrim</a></li>
<li><a href="/functions/setlocale">setlocale</a></li>
<li><a href="/functions/sha1">sha1</a></li>
<li><a href="/functions/sha1_file">sha1_file</a></li>
<li><a href="/functions/similar_text">similar_text</a></li>
<li><a href="/functions/soundex">soundex</a></li>
<li><a href="/functions/split">split</a></li>
<li><a href="/functions/sprintf">sprintf</a></li>
<li><a href="/functions/sscanf">sscanf</a></li>
<li><a href="/functions/str_getcsv">str_getcsv</a></li>
<li><a href="/functions/str_ireplace">str_ireplace</a></li>
<li><a href="/functions/str_pad">str_pad</a></li>
<li><a href="/functions/str_repeat">str_repeat</a></li>
<li><a href="/functions/str_replace">str_replace</a></li>
<li><a href="/functions/str_rot13">str_rot13</a></li>
<li><a href="/functions/str_shuffle">str_shuffle</a></li>
<li><a href="/functions/str_split">str_split</a></li>
<li><a href="/functions/str_word_count">str_word_count</a></li>
<li><a href="/functions/strcasecmp">strcasecmp</a></li>
<li><a href="/functions/strchr">strchr</a></li>
<li><a href="/functions/strcmp">strcmp</a></li>
<li><a href="/functions/strcoll">strcoll</a></li>
<li><a href="/functions/strcspn">strcspn</a></li>
<li><a href="/functions/strip_tags">strip_tags</a></li>
<li><a href="/functions/stripos">stripos</a></li>
<li><a href="/functions/stripslashes">stripslashes</a></li>
<li><a href="/functions/stristr">stristr</a></li>
<li><a href="/functions/strlen">strlen</a></li>
<li><a href="/functions/strnatcasecmp">strnatcasecmp</a></li>
<li><a href="/functions/strnatcmp">strnatcmp</a></li>
<li><a href="/functions/strncasecmp">strncasecmp</a></li>
<li><a href="/functions/strncmp">strncmp</a></li>
<li><a href="/functions/strpbrk">strpbrk</a></li>
<li><a href="/functions/strpos">strpos</a></li>
<li><a href="/functions/strrchr">strrchr</a></li>
<li><a href="/functions/strrev">strrev</a></li>
<li><a href="/functions/strripos">strripos</a></li>
<li><a href="/functions/strrpos">strrpos</a></li>
<li><a href="/functions/strspn">strspn</a></li>
<li><a href="/functions/strstr">strstr</a></li>
<li><a href="/functions/strtok">strtok</a></li>
<li><a href="/functions/strtolower">strtolower</a></li>
<li><a href="/functions/strtoupper">strtoupper</a></li>
<li><a href="/functions/strtr">strtr</a></li>
<li><a href="/functions/substr">substr</a></li>
<li><a href="/functions/substr_compare">substr_compare</a></li>
<li><a href="/functions/substr_count">substr_count</a></li>
<li><a href="/functions/substr_replace">substr_replace</a></li>
<li><a href="/functions/trim">trim</a></li>
<li><a href="/functions/ucfirst">ucfirst</a></li>
<li><a href="/functions/ucwords">ucwords</a></li>
<li><a href="/functions/vprintf">vprintf</a></li>
<li><a href="/functions/vsprintf">vsprintf</a></li>
<li><a href="/functions/wordwrap">wordwrap</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://www.qc-net.com" rel="nofollow">Mathieu M-Gosselin</a>
</strong>
on 2012-06-14 03:08:04 <br />
I rewrote _copy (lines 23 to 38) to correctly take into account simple arrays (containing integers, strings or booleans) when copying, instead of casting them to objects, which caused problems when trying to access the .length property (that objects don&#8217;t have, but arrays do). (I discovered that problem while using phpjs&#8217; money_format() and trying to copy locales. If, for example, the en_US LC_MONETARY.mon_grouping wasn&#8217;t redefined (as it is) after cloning it from en, the thousands grouping would plainly not work, while it should.

http://jsfiddle.net/jHGBR/ or

<pre><code>
// BEGIN STATIC
var _copy = function _copy(orig) {
    if (orig instanceof RegExp) {
        return new RegExp(orig);
    } else if (orig instanceof Date) {
        return new Date(orig);
    }

    if( Object.prototype.toString.call( orig ) === '[object Array]' )
    {
        return orig.slice(0);
    }
    else
    {
        var newObj = {};

        for (var i in orig) {
            if (typeof orig[i] === 'object') {
                newObj[i] = _copy(orig[i]);
            } else {
                newObj[i] = orig[i];
            }
        }
        return newObj;
    }
};​
</code></pre>

Sources:
http://stackoverflow.com/questions/4690520/javascript-object-literal-length-undefined
http://stackoverflow.com/questions/4775722/javascript-check-if-object-is-array
http://my.opera.com/GreyWyvern/blog/show.dml/1725165
<hr />


<strong>
<a href="http://an3m1.com/" rel="nofollow">????? ????</a>
</strong>
on 2012-05-06 09:40:36 <br />
If I might —perhaps you should consider adding a few images. I don’t mean to disrespect what you’ve said ; its very enlightening, indeed. However, I think would respond to it more positively if they could be something tangible to your ideas 
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/setlocale/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/setlocale/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/setlocale/index.html';
        var disqus_url = 'http://phpjs.org/functions/setlocale/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
